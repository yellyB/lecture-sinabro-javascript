# 01. 배포 & 번들러의 기초

- url 은 보통 생략하는데 마지막에 **“/index.html 을 열어준다”** 라는 설정이 내부적으로 들어가있음
- static-server 로 테스트 해보면 :
  - 폴더에서 파일을 바로 열었을때는 “파일 프로토콜”
  - static-server로 연 프로젝트는 “http 프로토콜”
  → 둘은 브라우저 작동이 다름. 그래서 로컬호스트로 열지 않으면 작동이 안되는것들이 종종 있음

---

### 번들러

- 왜씀?
  - css에 프리픽스 붙여줌 or sass 쓸 수 있게 도와줌
  - 리액트를 쓴다? 그러면 jsx 를 트랜스파일링해서 브라우저가 알아들을수 있는 js 파일로(트랜스파일러 라고도 부름)
  - 여러개를 하나로 묶어줌

### 빌드→배포되는 과정(by. 호스팅 플랫폼 ex. vercel)

1. 스크립트 실행하면 js/html/css 로 떨궈지는 작업. index.html 생성됨
2. 호스팅 플랫폼에 어떤 명령어로 빌드할 지 알려주고, 빌드하면 생성되는 아웃풋이 어떤 폴더에 있는지 지정해주기
3. 호스팅 플랫폼에서 지정한 폴더에 있는 정적으로 생성된 파일을 실행한다.

---

### 번들러: PARCEL을 예시로..

**yarn ~~ 같은 명령어는 대체 뭔가?**

- node_modules 에서 .bin 폴더 안에는 실행할 수 있는 명령어를 제공하는 라이브러리들이 있음.
- 때문에 yarn parcel 같이 입력하면, .bin 아래에 있는 parcel 을 실행한다는 뜻이 됨.
  (yarn 에서 제공하는 기능)
  (명령어로 그냥 parcel 만 입력하면 실행 파일을 찾는 경로중에 .bin이 포함되어 있지 않기 때문에 사용)

⇒ 번들러 실행하면:

- css파일 처리해줄게 있나 보고 처리, js 파일도 처리
- 빌드 파일에 해시 넣기 (왜냐? 브라우저에서 캐시가 먹히면 파일이 바뀌었음에도 예전 파일을 로드할수 있기 떄문)

### 번들러: Vite (비트)

- 저장을 누르면 바로 바뀌는거 = HMR (Hot Module Reloading)
- **dev server:** script의 dev 실행하면 열리는 서버를 보통 **dev server** 라고 함.
  - 얘가 하는 일 = 이 폴더에 파일이 바뀌는지 지켜보고 바뀐거 리프레시 해줌
  - 예전에는 페이지 전체를 리프레시 했었음.
  - 요즘에 쓰는 HMR은 바뀐 부분만.

**생성한 프로젝트 살펴보기**

- index.html 에서 script 태그에 .ts 가 있는데, ts파일은 브라우저가 이해할 수 있는 언어가 아님 ⇒ **트랜스파일링 과정 필요함**
- yarn build 하면 dist 폴더 생김. 이 폴더의 index.html을 보면 .js 파일로 바뀌어있음. **번들러가 ts → js 바꿔준 것**

(vite로 생성한 프로젝트(typescript, tailwind)를 vercel 로 deploy 하는 예제)
