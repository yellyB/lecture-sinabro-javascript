### (1/8) Basic http server

- 웹 서버 만들기

```jsx
[server.js]

const http = require('http);
const hostname = 'localhost';
const port = 3000;

const server = http.createServer((req, res) => {
	res.statusCode = 200;
	res.setHeader('Content-Type', 'text/plain');
	res.end('Hello World');
});

server.listen((port, hostname, () => {
	console.log(`Server running at http://${hostname}:${port}`);
});

// 작성 후 node server.js 로 서버 실행.
```

- 위처럼 작성하고 실행 시, 에러 남. (ReferenceError: require is not defined in ES module scope, you can use import instead)
- 이유는 해당 프로젝트 package.json에 “type”: “module” 이라고 작성되어 있는데 require문을 써서 그럼. (common js vs ES module)
- ⇒ 서버 파일을 .cjs 로 변경하거나, 첫 줄의 require 문을 import 문으로 바꾸기

<br/><br/><br/>

### (2/8) Handling different endpoints

```jsx
console.log({
  url: req.url,
  method: req.method,
});

// {url: '/', method: 'GET'}
// {url: '/abc/def', method: 'GET'}
```

- 위를 참고해서 url과 method에 따라 분기처리를 해서 특정 처리를 해줄 수 있음.
- 하지만 이렇게 하다보면 점점 관리 어려워짐 ⇒ **node.js 용 프레임워크인 Express**


<br/><br/><br/>



### (3/8) Basic Express

- express 설치하고 사용하는 기본적인 예제
- express 는 한 path로 리퀘스트가 들어왔을 때 처리되는 핸들러(=미들웨어)에 여러개를 넣을 수 있다
- ⇒ ex) authHandler 로 권한 판단하고 다음 핸들러 실행하거나 여기서 중지


<br/><br/><br/>

